import{r as t,h as i,H as s}from"./p-8fb49ffc.js";import{Logger as r,I18n as e}from"@aws-amplify/core";import{A as a}from"./p-f199eef0.js";import"@aws-amplify/auth";import{T as o}from"./p-7e0888dd.js";import"./p-2915ed18.js";import"@aws-amplify/storage";import{c as p,p as h,g as m}from"./p-efb09f47.js";const c=new r("S3ImagePicker"),f=class{constructor(i){t(this,i),this.contentType="binary/octet-stream",this.level=a.Public,this.headerTitle=o.IMAGE_PICKER_TITLE,this.headerHint=o.IMAGE_PICKER_HINT,this.placeholderHint=o.IMAGE_PICKER_PLACEHOLDER_HINT,this.buttonText=o.IMAGE_PICKER_BUTTON_TEXT,this.handlePick=async t=>{const{path:i="",level:s,track:r,identityId:e,fileToKey:a}=this,o=i+p(t,a);try{await h(o,t,s,r,t.type,c),this.src=await m(o,s,r,e,c)}catch(f){throw c.error(f),new Error(f)}}}render(){return i(s,null,i("slot",{name:"photo-picker"},i("amplify-photo-picker",{previewSrc:this.src,handleClick:this.handlePick,headerTitle:e.get(this.headerTitle),headerHint:e.get(this.headerHint),placeholderHint:e.get(this.placeholderHint),buttonText:e.get(this.buttonText)})))}};export{f as amplify_s3_image_picker}